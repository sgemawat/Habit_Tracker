<!-- Link to weekview.css stylesheet -->
<link rel="stylesheet" href="/css/weekview.css">

<!-- Header section -->
<div id="header-div">
    <!-- Main heading -->
    <h1>Habits develop into character</h1>
    <!-- Button for showing daily view with link to "/habits/dailyView" -->
    <button type="button" id="daily-view"><a href="/habits/dailyView">Show Daily View</a></button>
</div>

<!-- Habits display section -->
<div id="habits-div">
    <!-- Loop through habits and display their status -->
    <% for (let habit of habits) { %>
        <div id="user-habits">
            <!-- Display habit name -->
            <h4><%= habit.name %></h4>

            <!-- Loop through habit status and display date and status button -->
            <% habit.status.reverse().forEach(function (habitstatus) { %>
                <div>
                    <!-- Display date -->
                    <p><%= habitstatus.date %></p>

                    <!-- Set background color based on habit status -->
                    <% var bgcolor = '#B1B6B6' %>
                    <% if (habitstatus.datestatus !== 'Not Started') { %>
                        <% bgcolor = habitstatus.datestatus == 'Done' ? 'green' : 'red'; %>
                    <% } %>

                    <!-- Button for toggling habit status with link to "/habits/weeklyView/toggleStatus" -->
                    <button style="background-color:<%= bgcolor %>">
                        <a href="/habits/weeklyView/toggleStatus/?date=<%= habitstatus.date %>&id=<%= habit._id %>">&nbsp</a>
                    </button>
                </div>
            <% }) %>
        </div>
    <% } %>
</div>
